<!DOCTYPE html>
<html lang="sv">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üéÉ Windskore</title>
  <link rel="icon" type="image/png" href="favicon.png">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    @keyframes fadeIn { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }
    .animate-fade-in { animation: fadeIn 0.8s ease-out forwards; }
    .hover-scale { transition: transform 0.3s ease; }
    .hover-scale:hover { transform: scale(1.05); }
    .bg-gradient-hero { background: linear-gradient(135deg, #1a1a1a, #ff6f00); }
    .card-shadow { box-shadow: 0 10px 20px rgba(255, 111, 0, 0.2); }
    .halloween-text { color: #ff6f00; }
    .halloween-accent { background-color: #2d0b00; color: #ff6f00; }
    .halloween-hover:hover { background-color: #ff6f00; color: #2d0b00; }
    .hidden-code { color: #ff6f00; opacity: 0.15; font-size: 0.9rem; transition: opacity 0.4s; }
    .hidden-code:hover { opacity: 1; }
  </style>
</head>
<body class="bg-gray-900 text-orange-100 font-sans antialiased">
<div style="
  position: absolute;
  left: 8px;
  color: rgba(255, 140, 0, 0.3); /* gjorde den mer synlig */
  font-size: 14px;
  user-select: none;
  pointer-events: none;
">
  
</div>

<!-- Navigation -->
<nav class="bg-black shadow-lg fixed w-full z-10">
  <div class="container mx-auto px-4 py-4 flex justify-between items-center">
    <h1 class="text-3xl font-extrabold halloween-text">üéÉ Windskore</h1>
    <div class="flex items-center space-x-6 text-lg font-medium">
      <a href="#home" class="text-orange-300 hover:text-orange-500 transition-colors">Startsida</a>
      <a href="#games" class="text-orange-300 hover:text-orange-500 transition-colors">Spel</a>
      <a href="#development" class="text-orange-300 hover:text-orange-500 transition-colors">Utveckling</a>
      <a href="quest.html" id="halloweenQuest" class="text-orange-300 hover:text-orange-500 transition-colors">üéÉ Halloween Quest</a>
      <span id="userDisplay" class="text-orange-300 text-lg font-medium"></span>
      <button id="accountBtn" class="text-orange-300 hover:text-orange-500 transition-colors text-2xl">üë§</button>
    </div>
  </div>
</nav>

<!-- Account Popup -->
<div id="accountPopup" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center hidden z-50">
  <div class="bg-gray-800 p-6 rounded-lg relative w-96">
    <button id="closePopup" class="absolute top-2 right-2 text-orange-400 text-xl font-bold">&times;</button>
    <h2 class="text-2xl font-bold mb-4 text-orange-300">Skapa konto / Logga in</h2>
    <input id="email" type="email" placeholder="E-post" class="w-full p-3 mb-4 rounded bg-gray-700 text-white">
    <input id="password" type="password" placeholder="L√∂senord" class="w-full p-3 mb-4 rounded bg-gray-700 text-white">
    <div class="flex justify-between">
      <button id="registerBtn" class="px-4 py-2 rounded bg-orange-600 hover:bg-orange-700 transition">Skapa konto</button>
      <button id="loginBtn" class="px-4 py-2 rounded bg-orange-600 hover:bg-orange-700 transition">Logga in</button>
    </div>
    <p id="statusMsg" class="mt-4 text-orange-300"></p>
    <button id="logoutBtn" class="px-4 py-2 rounded bg-orange-600 hover:bg-orange-700 transition hidden mt-4">Logga ut</button>
  </div>
</div>

<!-- Home Section -->
<section id="home" class="min-h-screen flex items-center justify-center bg-gradient-hero pt-16">
  <div class="container mx-auto text-center px-4 animate-fade-in">
    <h2 class="text-5xl md:text-6xl font-extrabold mb-6 leading-tight">V√§lkommen till Windskore</h2>
    <p class="text-xl md:text-2xl mb-8 max-w-2xl mx-auto text-orange-200"></p>
    <a href="#games" class="inline-block bg-orange-600 px-8 py-4 rounded-full text-lg hover-scale hover:bg-orange-700 transition-all">Utforska v√•ra spel</a>
    <p id="badgeText" class="mt-6 text-xl text-green-400 font-bold"></p>
  </div>
</section>

<!-- Games Section -->
<section id="games" class="py-20 bg-gray-900">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center mb-12">Spel</h2>
    <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
      <div class="bg-gray-800 rounded-xl overflow-hidden card-shadow hover-scale animate-fade-in">
        <div class="h-48 bg-gradient-to-r from-orange-700 to-purple-900"></div>
        <div class="p-6">
          <h3 class="text-2xl font-semibold mb-3">Island Of Vehicles</h3>
          <p class="text-orange-200 mb-4">Windskores kommande spel √§r under utveckling!</p>
          <a href="/Island-Of-Vehicles" class="inline-block bg-orange-600 px-6 py-2 rounded-full hover:bg-orange-700 transition">F√• Notis Vid Release</a>
        </div>
      </div>
    </div>
  </div>
</section>
  
<!-- -->
<div style="
  position: absolute;
  left: 8px;
  color: rgba(255, 140, 0, 0.08);
  font-size: 14px;
  user-select: none;
  pointer-events: none;
">
  7206
</div>
<!--  -->
  
<!-- Development Section -->
<section id="development" class="py-20 bg-gray-800">
  <div class="container mx-auto px-4">
    <h2 class="text-4xl font-bold text-center mb-12">Utvecklingsbilder</h2>
    <p class="text-xl text-orange-200 text-center mb-12 max-w-3xl mx-auto">H√§r √§r n√•gra bilder fr√•n spelutvecklingsprocessen f√∂r Island Of Vehicles.</p>
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
      <div class="bg-gray-800 rounded-xl overflow-hidden card-shadow hover-scale animate-fade-in">
        <img src="" alt="Utvecklingsbild 1" class="w-full h-48 object-cover">
        <div class="p-6">
          <h3 class="text-2xl font-semibold mb-3">Koncept av villaomr√•de</h3>
          <p class="text-orange-200 mb-4">En tidig konceptbild av ett villaomr√•de.</p>
        </div>
      </div>
    </div>
  </div>
</section>

<div style="
  position: absolute;
  left: 8px;
  color: rgba(255, 140, 0, 0.3); /* gjorde den mer synlig */
  font-size: 14px;
  user-select: none;
  pointer-events: none;
">
  Gho
</div>

<!-- Footer -->
<footer class="bg-gray-900 text-white py-8">
  <div class="container mx-auto px-4 text-center">
    <h3 class="text-2xl font-bold mb-4">Windskore</h3>
    <p class="text-orange-200 mb-4">Hedemora</p>
    <div class="space-x-4">
      <a href="https://docs.google.com/document/d/1S52kEOqoF9yUc-7IgmE3uKT3EyfJ0JaX5Tgnfqp4qU0/view?tab=t.0#heading=h.k1nbs0j84noq" class="text-orange-200 hover:text-orange-400 transition-colors">Terms Of Service</a>
      <a href="https://docs.google.com/document/d/1QdNGmLffcUuZu21qLqdQPWm4gd0VK0EbiEBbaqy8BbU/edit?usp=sharing" class="text-orange-200 hover:text-orange-400 transition-colors">Sekretesspolicy</a>
    </div>
    <p class="text-orange-200 mt-4">support@windskore.se</p>
    <p class="text-orange-300 mt-6">¬©2025 Windskore.</p>

<script type="module">
import { initializeApp } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-app.js";
import { getAuth, createUserWithEmailAndPassword, signInWithEmailAndPassword, signOut, onAuthStateChanged } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-auth.js";
import { getFirestore, doc, getDoc } from "https://www.gstatic.com/firebasejs/12.4.0/firebase-firestore.js";

const firebaseConfig = {
  apiKey: "AIzaSyBp9mtBNZAt4PLVPV0ReJ1TmdhfsuArXZI",
  authDomain: "windskore.firebaseapp.com",
  projectId: "windskore",
  storageBucket: "windskore.firebasestorage.app",
  messagingSenderId: "894555057184",
  appId: "1:894555057184:web:ae683773015933f6db2045",
  measurementId: "G-CMJ31ZN3F6"
};

const app = initializeApp(firebaseConfig);
const auth = getAuth(app);
const db = getFirestore(app);

const emailInput = document.getElementById("email");
const passwordInput = document.getElementById("password");
const registerBtn = document.getElementById("registerBtn");
const loginBtn = document.getElementById("loginBtn");
const logoutBtn = document.getElementById("logoutBtn");
const statusMsg = document.getElementById("statusMsg");
const accountBtn = document.getElementById("accountBtn");
const accountPopup = document.getElementById("accountPopup");
const closePopup = document.getElementById("closePopup");
const userDisplay = document.getElementById("userDisplay");
const questLink = document.getElementById("halloweenQuest");
const badgeText = document.getElementById("badgeText");

let userId = null;
let completedQuests = [];
const allQuestIds = [1,2,3,4,5];

onAuthStateChanged(auth, async (user)=>{
  if(user){
    userDisplay.textContent = `Inloggad: ${user.email}`;
    logoutBtn.classList.remove("hidden");
    accountPopup.classList.add("hidden");
    userId = user.uid;

    const docRef = doc(db,"users",user.uid);
    const docSnap = await getDoc(docRef);
    if(docSnap.exists()){
      completedQuests = docSnap.data().completedQuests || [];
    } else {
      completedQuests = [];
    }

    if(allQuestIds.every(id=>completedQuests.includes(id))){
      badgeText.textContent = "üéÉ Alla quests avklarade! üéâ";
    } else {
      badgeText.textContent = "";
    }

  } else {
    userDisplay.textContent = "";
    logoutBtn.classList.add("hidden");
    userId = null;
    completedQuests = [];
    badgeText.textContent = "";
  }
});

registerBtn.addEventListener("click", async ()=>{
  try{
    await createUserWithEmailAndPassword(auth,emailInput.value,passwordInput.value);
    statusMsg.textContent = "‚úÖ Konto skapat!";
  }catch(err){
    statusMsg.textContent = "‚ùå "+err.message;
  }
});

loginBtn.addEventListener("click", async ()=>{
  try{
    await signInWithEmailAndPassword(auth,emailInput.value,passwordInput.value);
    statusMsg.textContent = "‚úÖ Inloggad!";
  }catch(err){
    statusMsg.textContent = "‚ùå "+err.message;
  }
});

logoutBtn.addEventListener("click", async ()=>{
  await signOut(auth);
});

accountBtn.addEventListener("click", ()=>accountPopup.classList.remove("hidden"));
closePopup.addEventListener("click", ()=>accountPopup.classList.add("hidden"));
accountPopup.addEventListener("click",(e)=>{ if(e.target===accountPopup) accountPopup.classList.add("hidden"); });

questLink.addEventListener("click",(e)=>{
  if(!userId){
    e.preventDefault();
    alert("Du m√•ste vara inloggad f√∂r att n√• denna sida.");
  }
});
</script>

</body>
</html>







